import {useTranslation} from "react-i18next";import React, {useEffect, useState} from "react";import {useMediaQuery} from "react-responsive";import * as Constants from "../../../constants";import axios from "axios";import {getAuthHeader} from "../../../helpers/Authorization";import ConsoleHelper from "../../../helpers/ConsoleHelper";import Table from "../../ShareComponents/Table/Table";const UnfinishedChecksTable = ({ dataReady, setDataReady, setSelectedAsset }) => {    const { t } = useTranslation();    const [unfinishedChecks, setUnfinishedChecks] = useState(null);    const isMobile = useMediaQuery({ query: `(max-width: ${Constants.MOBILE_BREAKPOINT}px)` });    useEffect(() => {        if (!dataReady) {            const cancelTokenSource = axios.CancelToken.source();            axios                .get(`${Constants.ENDPOINT_PREFIX}/api/v1/DailyOperationalChecks/noDailyCheck`, {                    ...getAuthHeader(),                    cancelToken: cancelTokenSource.token,                })                .then((response) => {                    setUnfinishedChecks(response.data);                    setDataReady(true);                })                .catch((error) => {                    setDataReady(true);                    ConsoleHelper(error);                });            return () => {                //Doing clean up work, cancel the asynchronous api call                cancelTokenSource.cancel("cancel the asynchronous api call");            };        }        // eslint-disable-next-line react-hooks/exhaustive-deps    }, [dataReady]);    let tableHeaders;    let tableData;    if (unfinishedChecks) {        tableHeaders = [            { header: t("lookupDailyCheckPanel.vin_label"), colFilter: { field: "VIN" } },            {                header: t("lookupDailyCheckPanel.asset_type_label"),                colFilter: { field: "asset_type", filterOptions: { filterAs: "dropdown" } },            },        ];        tableData = unfinishedChecks.map((asset, index) => {            return {                id: index,                dataPoint: asset,                cells: [asset.VIN, asset.asset_type],            };        });    }    return (        <div className="darkTable">            <Table                dataReady={dataReady}                tableHeaders={tableHeaders}                tableData={tableData}                onSelectionChange={setSelectedAsset}                hasSelection                timeOrder={false}                // globalSearch={!isMobile ? true : false}            />        </div>    );};export default UnfinishedChecksTable